exports.id=624,exports.ids=[624],exports.modules={889:e=>{e.exports={videoReviews:"VideoReviews_videoReviews__dbHnO",animatedBackground:"VideoReviews_animatedBackground__HtPat",particle:"VideoReviews_particle__yD9kp",float:"VideoReviews_float__xWf7i",wave:"VideoReviews_wave__sbXzy",ripple:"VideoReviews_ripple__7Dl4e",star:"VideoReviews_star__KPLSJ",twinkle:"VideoReviews_twinkle__KZKe_",pulseRing:"VideoReviews_pulseRing__wnomC",pulse:"VideoReviews_pulse__8VfM5",backgroundImage:"VideoReviews_backgroundImage__TAdfV",container:"VideoReviews_container__LRwtR",content:"VideoReviews_content__7nDjl",visible:"VideoReviews_visible__P8NFw",title:"VideoReviews_title__91jYF",description:"VideoReviews_description__ajdT2",videoGrid:"VideoReviews_videoGrid__x1bSx",videoItem:"VideoReviews_videoItem__7n8KH",videoContainer:"VideoReviews_videoContainer___i41S",video:"VideoReviews_video__U3_uP",customControls:"VideoReviews_customControls__6vPKG",playButton:"VideoReviews_playButton__ikacW",fullscreenButton:"VideoReviews_fullscreenButton__xlPuf",progressContainer:"VideoReviews_progressContainer__QSv_c",progressTrack:"VideoReviews_progressTrack__CxkIR",progressFill:"VideoReviews_progressFill__N_XhK",progressThumb:"VideoReviews_progressThumb__imU_E",timeDisplay:"VideoReviews_timeDisplay__GP5Xa",centerPlayButton:"VideoReviews_centerPlayButton__N1Nw6",centerPlay:"VideoReviews_centerPlay__tIX5R",videoTitle:"VideoReviews_videoTitle__TDcgs",buttonContainer:"VideoReviews_buttonContainer__ORpFf",viewAllButton:"VideoReviews_viewAllButton__hah3O"}},1624:(e,i,t)=>{"use strict";t.d(i,{Z:()=>r});var o=t(997),s=t(6689),a=t(889),d=t.n(a);function r({showAllVideos:e=!1,showViewAllButton:i=!1}){let[t,a]=(0,s.useState)(!1),[r,l]=(0,s.useState)(null),[n,v]=(0,s.useState)({}),[c,u]=(0,s.useState)({}),[_,m]=(0,s.useState)({}),p=(0,s.useRef)([]),h=(0,s.useRef)([]),w=[{video:"/video/1.mp4",audio:"/audio/1.1.mp4",title:"Обзор дома 1"},{video:"/video/2.mp4",audio:"/audio/2.1.mp4",title:"Обзор дома 2"},{video:"/video/3.mp4",audio:"/audio/3.1.mp4",title:"Обзор дома 3"},{video:"/video/4.mp4",audio:"/audio/4.1.mp4",title:"Обзор дома 4"}],x=e?[...w,{video:"/video/5.mp4",audio:"/audio/5.1.mp4",title:"Обзор дома 5"},{video:"/video/6.mp4",audio:"/audio/6.1.mp4",title:"Обзор дома 6"},{video:"/video/7.mp4",audio:"/audio/7.1.mp4",title:"Обзор дома 7"},{video:"/video/8.mp4",title:"Обзор дома 8"},{video:"/video/9.mp4",audio:"/audio/9.1.mp4",title:"Обзор дома 9"},{video:"/video/10.mp4",audio:"/audio/10.1.mp4",title:"Обзор дома 10"},{video:"/video/11.mp4",title:"Обзор дома 11"},{video:"/video/12.mp4",title:"Обзор дома 12"},{video:"/video/13.mp4",title:"Обзор дома 13"},{video:"/video/14.mp4",title:"Обзор дома 14"},{video:"/video/15.mp4",title:"Обзор дома 15"},{video:"/video/16.mp4",title:"Обзор дома 16"}]:w,j=e=>{let i=p.current[e],t=h.current[e];n[e]?(i?.pause(),t?.pause()):(Object.keys(n).forEach(i=>{i!==String(e)&&n[i]&&(p.current[i]?.pause(),h.current[i]?.pause())}),i?.play().catch(e=>{console.error("Video playback failed:",e)}),t&&x[e].audio&&(t.currentTime=i.currentTime,t?.play().catch(e=>{console.error("Audio playback failed:",e)})))},R=e=>{v(i=>({...i,[e]:!0})),l(e)},g=e=>{v(i=>({...i,[e]:!1})),r===e&&l(null)},V=e=>{let i=p.current[e];i&&u(t=>({...t,[e]:i.currentTime}))},N=e=>{let i=p.current[e];i&&i.duration&&m(t=>({...t,[e]:i.duration}))},f=e=>{let i=p.current[e];i&&i.duration&&!_[e]&&m(t=>({...t,[e]:i.duration}))},y=(e,i)=>{let t=p.current[e],o=h.current[e];if(t){let s=Math.max(0,Math.min(i,t.duration||0));t.currentTime=s,o&&x[e].audio&&(o.currentTime=s),u(i=>({...i,[e]:s}))}},C=(e,i)=>{let t=p.current[e];if(!t)return;let o=i.currentTarget.getBoundingClientRect(),s=i.clientX-o.left,a=o.width,d=t.duration||0;d>0&&y(e,Math.max(0,Math.min(s/a*d,d)))},b=e=>e?`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`:"0:00",k=e=>{};return(0,o.jsxs)("section",{className:d().videoReviews,"aria-labelledby":"video-reviews-title",children:[(0,o.jsxs)("div",{className:d().animatedBackground,children:[o.jsx("div",{className:d().particle}),o.jsx("div",{className:d().particle}),o.jsx("div",{className:d().particle}),o.jsx("div",{className:d().particle}),o.jsx("div",{className:d().wave}),o.jsx("div",{className:d().wave}),o.jsx("div",{className:d().star}),o.jsx("div",{className:d().star}),o.jsx("div",{className:d().star}),o.jsx("div",{className:d().pulseRing})]}),o.jsx("div",{className:d().backgroundImage}),o.jsx("div",{className:d().container,children:(0,o.jsxs)("div",{className:`${d().content} ${t?d().visible:""}`,children:[o.jsx("h2",{id:"video-reviews-title",className:d().title,children:"Видеообзоры наших домов"}),o.jsx("p",{className:d().description,children:"Убедитесь в качестве и продуманности каждой детали"}),o.jsx("div",{className:d().videoGrid,children:x.map((e,i)=>o.jsx("div",{className:d().videoItem,children:(0,o.jsxs)("div",{className:d().videoContainer,children:[o.jsx("video",{ref:e=>p.current[i]=e,src:e.video,muted:!0,preload:"metadata",onPlay:()=>R(i),onPause:()=>g(i),onTimeUpdate:()=>V(i),onLoadedMetadata:()=>N(i),onCanPlay:()=>f(i),onDurationChange:()=>N(i),className:d().video,"aria-label":`Видеообзор модульного дома ${i+1}`,title:e.title}),e.audio&&o.jsx("audio",{ref:e=>h.current[i]=e,src:e.audio,preload:"metadata"}),!n[i]&&o.jsx("div",{className:d().centerPlayButton,children:o.jsx("button",{className:d().centerPlay,onClick:()=>j(i),children:o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:o.jsx("polygon",{points:"8,5 19,12 8,19",fill:"currentColor"})})})}),(0,o.jsxs)("div",{className:d().customControls,children:[o.jsx("button",{className:d().playButton,onClick:()=>j(i),children:o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:n[i]?(0,o.jsxs)(o.Fragment,{children:[o.jsx("rect",{x:"6",y:"4",width:"4",height:"16",fill:"currentColor"}),o.jsx("rect",{x:"14",y:"4",width:"4",height:"16",fill:"currentColor"})]}):o.jsx("polygon",{points:"5,3 19,12 5,21",fill:"currentColor"})})}),o.jsx("div",{className:d().progressContainer,children:(0,o.jsxs)("div",{className:d().progressTrack,onClick:e=>C(i,e),children:[o.jsx("div",{className:d().progressFill,style:{width:`${(()=>{let e=p.current[i];return e?.duration?(c[i]||0)/e.duration*100:0})()}%`}}),o.jsx("div",{className:d().progressThumb,style:{left:`${(()=>{let e=p.current[i];return e?.duration?(c[i]||0)/e.duration*100:0})()}%`}})]})}),(0,o.jsxs)("div",{className:d().timeDisplay,children:[b(c[i])," / ",b(p.current[i]?.duration)]}),o.jsx("button",{className:d().fullscreenButton,onClick:()=>k(i),title:"Полный экран",children:o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:o.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zM5 10h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z",fill:"currentColor"})})})]})]})},i))}),i&&o.jsx("div",{className:d().buttonContainer,children:o.jsx("a",{href:"/otzyvy",className:d().viewAllButton,children:"Смотреть все обзоры"})})]})})]})}}};