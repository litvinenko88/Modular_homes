# Настройка 3D Конструктора

## Установка зависимостей

Для работы 3D конструктора необходимо установить Three.js:

```bash
npm install three@^0.158.0
```

## Структура файлов конструктора

```
src/
├── components/
│   └── constructor/
│       ├── constructor/
│       │   ├── ModularConstructor.js      # Главный компонент
│       │   ├── ConstructorInterface.js    # Интерфейс 2D планировщика
│       │   ├── InitialSetupModal.js       # Модальное окно настройки
│       │   ├── House3DViewer.js           # 3D визуализатор
│       │   └── steps/                     # Дополнительные шаги (не используются)
│       └── InteractiveButton.js           # Интерактивная кнопка
└── pages/
    └── constructor.js                     # Страница конструктора
```

## Функциональность

### 2D Планировщик
- ✅ Размещение дома на участке
- ✅ Создание внутренних стен
- ✅ Добавление дверей и окон
- ✅ Изменение размеров элементов
- ✅ Фиксация элементов
- ✅ Автоматическое определение комнат
- ✅ Отмена действий (Ctrl+Z)

### 3D Визуализатор
- ✅ Полная 3D модель дома
- ✅ Внешние и внутренние стены
- ✅ Двери и окна с правильным позиционированием
- ✅ Интерактивное управление камерой
- ✅ Реалистичное освещение и тени
- ✅ Окружение (деревья, дорожка)

### Инструменты
- **Выбор** - выделение и перемещение элементов
- **Стена** - создание внутренних стен
- **Дверь** - размещение дверей на стенах
- **Окно** - размещение окон на стенах
- **Фиксация** - блокировка элементов от изменений
- **Поворот** - поворот выбранного элемента

## Горячие клавиши

- `Ctrl + Z` - Отменить последнее действие
- `Enter` - Подтвердить создание стены
- `Delete` - Удалить выбранный элемент
- `Ctrl + Click` - Множественный выбор стен

## Настройка проекта

1. **Выбор дома**: Готовые проекты или индивидуальные размеры
2. **Размер участка**: Настройка ширины и длины участка
3. **Планировка**: Создание внутренних стен и размещение проемов
4. **3D просмотр**: Визуализация результата в 3D

## Технические особенности

- Использует Canvas API для 2D планировщика
- Three.js для 3D визуализации
- Динамический импорт для избежания SSR проблем
- Адаптивный дизайн для мобильных устройств
- Сохранение истории изменений

## Доступ к конструктору

Конструктор доступен по адресу `/constructor` и через кнопку "Конструктор" в главном меню.